  <h4>Formularios <small>template</small></h4>

  <hr>

    <form (ngSubmit)="guardar(forma)" #forma="ngForm" class="needs-validation" novalidate>

      <div class="form-group row" >

        <label class="col-2 col-form-label">Nombre</label>

        <div class="col-8">

          <input class="form-control" type="text" placeholder="Nombre" name="nombre"

                 [(ngModel)]="usuario.nombre"

                 minlength="5"

                 required

                 #nombre="ngModel"

                 [ngClass]="{ 'is-invalid': (nombre.errors?.required || nombre.errors?.minlength) && nombre.touched, 'is-valid':nombre.valid}">

          <div *ngIf="nombre.errors?.required" [ngClass]="{'invalid-feedback':nombre.errors?.required}">Este campo es requerido</div>

          <div *ngIf="nombre.errors?.minlength" [ngClass]="{'invalid-feedback':nombre.errors?.minlength}">Minimo requerido {{nombre.errors.minlength.requiredLength}}</div>

        </div>

      </div>

      <div class="form-group row" *ngIf="nombre.value != 'papito'">

        <label class="col-2 col-form-label">Apellido</label>

        <div class="col-8">

          <input class="form-control" type="text" placeholder="Apellido" name="apellido"

                  [(ngModel)]="usuario.apellido"

                  required #apellido="ngModel"

                  [ngClass]="{ 'is-invalid': (apellido.errors?.required) && apellido.touched , 'is-valid':apellido.valid}">

          <div *ngIf="apellido.errors?.required" [ngClass]="{'invalid-feedback':apellido.errors?.required}">Este campo es requerido</div>

        </div>

      </div>

      <div class="form-group row">

        <label class="col-2 col-form-label">Correo</label>

        <div class="col-md-8">

          <input class="form-control" type="email" placeholder="Correo electrÃ³nico" name="correo"

                  [(ngModel)]="usuario.correo"

                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"

                  required #correo="ngModel"

                  [ngClass]="{ 'is-invalid': (correo.errors?.required || correo.errors?.pattern) && correo.touched , 'is-valid':correo.valid}">

          <div *ngIf="correo.errors?.required" [ngClass]="{'invalid-feedback': correo.errors?.required}">Este campo es requerido</div>

          <div *ngIf="correo.errors?.pattern" [ngClass]="{'invalid-feedback': correo.errors?.pattern}">El formato de correo no es correcto</div>

        </div>

     </div>

      <div class="form-group row">

        <label class="col-2 col-form-label">Pais</label>

        <div class="col-md-8">

          <select

              class="form-control" name="paises"

              [(ngModel)]="usuario.pais"

              required #paises="ngModel"

              [ngClass]="{ 'is-invalid': (paises.errors?.required) && paises.touched , 'is-valid':paises.valid}">

              <option value="">Seleccione un pais</option>

              <option *ngFor="let paises of pais"

                    value="{{paises.codigo}}">{{paises.pais}}

              </option>

          </select>

        </div>

      </div>

      <div class="form-group row">

        <label class="col-2 col-form-label">Genero</label>

        <div class="col-md-8">

          <div class="custom-control custom-radio custom-control-inline"  *ngFor="let sex of sexos">

            <input type="radio"

                  name="sexo"

                  [(ngModel)]="usuario.sexo"

                  [value]="sex"

                  id="customRadioInline{{sex}}"

                  class="custom-control-input">

            <label class="custom-control-label" for="customRadioInline{{sex}}">{{sex}}</label>

          </div>

        </div>

      </div>

      <div class="form-group row">
        <label class="col-2 col-form-label">Genero</label>
        <div class="col-md-8">
            <div class="custom-control custom-checkbox">
              <input
                name="acepta"
                [(ngModel)]="usuario.acepta"
                type="checkbox" 
                class="custom-control-input" 
                id="customCheck1"
                required #acepta="ngModel">
              <label class="custom-control-label" for="customCheck1">Check this custom checkbox</label>
            </div>
        </div>
      </div>

      <div class="form-group row">

        <label class="col-2 col-form-label">&nbsp;</label>

        <div class="input-group col-md-8">

          <button type="submit"

                  class="btn btn-outline-primary"

                  [disabled]="!forma.valid">Guardar

          </button>

        </div>

      </div>

  </form>

   

  <pre>

    {{usuario | json}}

  </pre>